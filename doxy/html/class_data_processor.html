<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACTS: DataProcessor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ACTS
   &#160;<span id="projectnumber">Version 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_data_processor.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_data_processor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DataProcessor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Processes data received from <a class="el" href="class_sensor_controller.html" title="Task that handles all sensor communication. ">SensorController</a>.  
 <a href="class_data_processor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_data_processor_8hpp_source.html">DataProcessor.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa8b2355388d8179bd3ea1afef8280c0e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_data_processor.html#aa8b2355388d8179bd3ea1afef8280c0e">DataProcessor</a> ()</td></tr>
<tr class="memdesc:aa8b2355388d8179bd3ea1afef8280c0e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_data_processor.html" title="Processes data received from SensorController. ">DataProcessor</a> constructor.  <a href="#aa8b2355388d8179bd3ea1afef8280c0e">More...</a><br /></td></tr>
<tr class="separator:aa8b2355388d8179bd3ea1afef8280c0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9f72431aafbe9660e892837e6cfa41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_data_processor.html#a4b9f72431aafbe9660e892837e6cfa41">SetTimeoutValue</a> (int NewTriggerms)</td></tr>
<tr class="memdesc:a4b9f72431aafbe9660e892837e6cfa41"><td class="mdescLeft">&#160;</td><td class="mdescRight">SetTimeoutValue method.  <a href="#a4b9f72431aafbe9660e892837e6cfa41">More...</a><br /></td></tr>
<tr class="separator:a4b9f72431aafbe9660e892837e6cfa41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bce6fcae42ad58fb1bbc8c9112c70a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_data_processor.html#a4bce6fcae42ad58fb1bbc8c9112c70a0">SetTrigger</a> (int triggerx, int triggery, int triggerz)</td></tr>
<tr class="memdesc:a4bce6fcae42ad58fb1bbc8c9112c70a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">SetTrigger method.  <a href="#a4bce6fcae42ad58fb1bbc8c9112c70a0">More...</a><br /></td></tr>
<tr class="separator:a4bce6fcae42ad58fb1bbc8c9112c70a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff3169cb0316440e0b271a8626b6d28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_data_processor.html#a1ff3169cb0316440e0b271a8626b6d28">HandleData</a> (<a class="el" href="struct_sample_data.html">SampleData</a> NewData)</td></tr>
<tr class="memdesc:a1ff3169cb0316440e0b271a8626b6d28"><td class="mdescLeft">&#160;</td><td class="mdescRight">HandleData method.  <a href="#a1ff3169cb0316440e0b271a8626b6d28">More...</a><br /></td></tr>
<tr class="separator:a1ff3169cb0316440e0b271a8626b6d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ad5f3bcf6b4040eed493ec9c9c6ff3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_system_variables_8hpp.html#aa9b8336fbd44a03f2ad33f238daa2278">movement_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_data_processor.html#af3ad5f3bcf6b4040eed493ec9c9c6ff3">GetActivityData</a> ()</td></tr>
<tr class="memdesc:af3ad5f3bcf6b4040eed493ec9c9c6ff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">GetActivityData method.  <a href="#af3ad5f3bcf6b4040eed493ec9c9c6ff3">More...</a><br /></td></tr>
<tr class="separator:af3ad5f3bcf6b4040eed493ec9c9c6ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c99108605d498d275627359bc4dc613"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_data_processor.html#a0c99108605d498d275627359bc4dc613">ResetActivityData</a> ()</td></tr>
<tr class="memdesc:a0c99108605d498d275627359bc4dc613"><td class="mdescLeft">&#160;</td><td class="mdescRight">ResetActivityData method.  <a href="#a0c99108605d498d275627359bc4dc613">More...</a><br /></td></tr>
<tr class="separator:a0c99108605d498d275627359bc4dc613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19b93cdf4cb5bf1f961f1d4b47f4daa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_data_processor.html#af19b93cdf4cb5bf1f961f1d4b47f4daa">~DataProcessor</a> ()</td></tr>
<tr class="memdesc:af19b93cdf4cb5bf1f961f1d4b47f4daa"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_data_processor.html" title="Processes data received from SensorController. ">DataProcessor</a> deconstructor.  <a href="#af19b93cdf4cb5bf1f961f1d4b47f4daa">More...</a><br /></td></tr>
<tr class="separator:af19b93cdf4cb5bf1f961f1d4b47f4daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Processes data received from <a class="el" href="class_sensor_controller.html" title="Task that handles all sensor communication. ">SensorController</a>. </p>
<p>This class handles the data received from the sensors. This data is sent throug a <a class="el" href="struct_sample_data.html" title="Sample data structure. ">SampleData</a> structure. With the received samples a activity index will be calculated. This index can be read and reset through this class.</p>
<p>This class will set the MovementTimeoutReached bit if the movement was lower than the set triggervalues. The <a class="el" href="class_standby_controller.html" title="Class that controlls the devices sleepmodes. ">StandbyController</a> will handle the next actions.</p>
<p>The movement index is calculated using the Gyro data from the MPU9250. The differential from this data is compared to a trigger. When this value is higher, the movement index is increased with the measued data divided by the trigger value. If the measured data is lower than the trigger, the timeout counter will be incremented. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa8b2355388d8179bd3ea1afef8280c0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8b2355388d8179bd3ea1afef8280c0e">&#9670;&nbsp;</a></span>DataProcessor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataProcessor::DataProcessor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_data_processor.html" title="Processes data received from SensorController. ">DataProcessor</a> constructor. </p>
<p>This method initializes all states and variables used in this class. </p>

</div>
</div>
<a id="af19b93cdf4cb5bf1f961f1d4b47f4daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19b93cdf4cb5bf1f961f1d4b47f4daa">&#9670;&nbsp;</a></span>~DataProcessor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataProcessor::~DataProcessor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_data_processor.html" title="Processes data received from SensorController. ">DataProcessor</a> deconstructor. </p>
<p>Empty, not implemented. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af3ad5f3bcf6b4040eed493ec9c9c6ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ad5f3bcf6b4040eed493ec9c9c6ff3">&#9670;&nbsp;</a></span>GetActivityData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_system_variables_8hpp.html#aa9b8336fbd44a03f2ad33f238daa2278">movement_type_t</a> DataProcessor::GetActivityData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GetActivityData method. </p>
<dl class="section return"><dt>Returns</dt><dd>Current activity data value</dd></dl>
<p>The measured activitydata is returned. </p>

</div>
</div>
<a id="a1ff3169cb0316440e0b271a8626b6d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ff3169cb0316440e0b271a8626b6d28">&#9670;&nbsp;</a></span>HandleData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataProcessor::HandleData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sample_data.html">SampleData</a>&#160;</td>
          <td class="paramname"><em>NewData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HandleData method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NewData</td><td>Structure with measured data</td></tr>
  </table>
  </dd>
</dl>
<p>The new movement data is passed to this method. This method handles all data and counters. </p>

</div>
</div>
<a id="a0c99108605d498d275627359bc4dc613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c99108605d498d275627359bc4dc613">&#9670;&nbsp;</a></span>ResetActivityData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataProcessor::ResetActivityData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ResetActivityData method. </p>
<p>This method resets the activitydata. Often this is called after reading the activity data. </p>

</div>
</div>
<a id="a4b9f72431aafbe9660e892837e6cfa41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b9f72431aafbe9660e892837e6cfa41">&#9670;&nbsp;</a></span>SetTimeoutValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataProcessor::SetTimeoutValue </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NewTriggerms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SetTimeoutValue method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Timeout</td><td>in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<p>This method sets the timeout time in milliseconds. The timeout counter is incremented with SAMPE_TIME_MS each time the HandleData method is called. When this counter reaches the set value, the MovementTimeoutReached bit will be set. </p>

</div>
</div>
<a id="a4bce6fcae42ad58fb1bbc8c9112c70a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bce6fcae42ad58fb1bbc8c9112c70a0">&#9670;&nbsp;</a></span>SetTrigger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataProcessor::SetTrigger </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>triggerx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>triggery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>triggerz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SetTrigger method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">triggerx</td><td>Trigger value for x axis </td></tr>
    <tr><td class="paramname">triggery</td><td>Trigger value for y axis </td></tr>
    <tr><td class="paramname">triggerz</td><td>Trigger value for z axis</td></tr>
  </table>
  </dd>
</dl>
<p>This method sets the gyro trigger values. If the measured gyro movment is higher than these triggers the timeout will be reset. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/ESP32/ACTS-Sensor-develop/src/<a class="el" href="_data_processor_8hpp_source.html">DataProcessor.hpp</a></li>
<li>C:/ESP32/ACTS-Sensor-develop/src/DataProcessor.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_data_processor.html">DataProcessor</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
